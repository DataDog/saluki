syntax = "proto3";

package datadog.checks;

message CheckPayload {
    repeated CheckData data = 1;
}

message CheckData {
    oneof data {
        Metric metric = 1;
        Log log = 2;
        ServiceCheck service_check = 3;
        Event event = 4;
    }
}

message Metric {
    enum MetricType {
        UNSPECIFIED = 0;
        COUNT = 1;
        RATE = 2;
        GAUGE = 3;
    }

    message MetricPoint {
        double value = 1;
        int64 timestamp = 2;
    }

    MetricType type = 1;
    string name = 2;
    repeated string tags = 3;
    repeated MetricPoint points = 4;
}

message Log {
    string message = 1;
    repeated string tags = 2;
    int64 timestamp = 3;
}

message ServiceCheck {
    enum Status {
        OK = 0;
        WARNING = 1;
        CRITICAL = 2;
        UNKNOWN = 3;
    }

    Status status = 1;
    string message = 2;
    repeated string tags = 3;
    int64 timestamp = 4;
}

message Event {
    string title = 1;
    string text = 2;
    repeated string tags = 3;
    int64 timestamp = 4;
}
